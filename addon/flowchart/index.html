svg#defs
  symbol#hinge
    line(
      x1="50%",
      y1="50%",
      x2="50%",
      y2="0%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )
    line(
      x1="0",
      y1="50%",
      x2="50%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )

svg#defs
  symbol#hinge-2
    line(
      x1="50%",
      y1="50%",
      x2="100%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )
    line(
      x1="50%",
      y1="100%",
      x2="50%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )

svg#defs
  symbol#vertical
    line(
      x1="50%",
      y1="100%",
      x2="50%",
      y2="0%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )

svg#defs
  symbol#vertical-down
    line(
      x1="50%",
      y1="100%",
      x2="50%",
      y2="0%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )
    line(
      x1="45%",
      y1="68%",
      x2="50%",
      y2="100%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )
    line(
      x1="55%",
      y1="68%",
      x2="50%",
      y2="100%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )

svg#defs
  symbol#vertical-up
    line(
      x1="50%",
      y1="100%",
      x2="50%",
      y2="0%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )
    line(
      x1="45%",
      y1="30%",
      x2="50%",
      y2="10%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )
    line(
      x1="55%",
      y1="30%",
      x2="50%",
      y2="10%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )

svg#defs
  symbol#horizontal
    line(
      x1="0%",
      y1="50%",
      x2="100%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%"
    )

svg#defs
  symbol#horizontal-left
    line(
      x1="0%",
      y1="50%",
      x2="100%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )
    line(
      x1="35%",
      y1="30%",
      x2="0",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )
    line(
      x1="35%",
      y1="70%",
      x2="0",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

svg#defs
  symbol#horizontal-right
    line(
      x1="0%",
      y1="50%",
      x2="100%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )
    line(
      x1="70%",
      y1="30%",
      x2="100%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )
    line(
      x1="70%",
      y1="70%",
      x2="100%",
      y2="50%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

svg#defs
  symbol#quad-1
    line(
      x1="0%",
      y1="100%",
      x2="100%",
      y2="0%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

svg#defs
  symbol#quad-2
    line(
      x1="0%",
      y1="0%",
      x2="100%",
      y2="100%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

svg#defs
  symbol#quad-3
    line(
      x1="0%",
      y1="0%",
      x2="100%",
      y2="100%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

svg#defs
  symbol#quad-4
    line(
      x1="0%",
      y1="100%",
      x2="100%",
      y2="0%",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

svg#defs
  symbol#angle
    line(
      x1="0",
      y1="100%",
      x2="100%",
      y2="0",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )
    line(
      x1="65%",
      y1="0",
      x2="100%",
      y2="0",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )
    line(
      x1="100%",
      y1="45%",
      x2="100%",
      y2="0",
      style="stroke-width: 1px",
      stroke="blue",
      width="100%",
      height="100%",
      x="0px",
      y="0px"
    )

.notice
  h1 CSS Grid Responsive Flowchart Demo
  p
    = 'NB: This will look like a garbled mess without CSS Grid support. Take a look at this in '
    a(href="https://www.google.co.uk/chrome/browser/canary.html") Chrome Canary
    = ' or '
    a(href="https://nightly.mozilla.org/") Firefox Nightly
    = ' to see it in action.'

.diagram.gr.flow
  .cell.row-1.col-5.brackets
    .layer
      svg.liner.hinge
        use(xlink:href="#hinge-2")

  .cell.row-1.col-6.center
    svg.liner.vertical
      use(xlink:href="#vertical")
    svg.liner.horizontal
      use(xlink:href="#horizontal")

  .cell.row-1.col-7.center
    svg.liner.vertical
      use(xlink:href="#vertical")
    svg.liner.horizontal
      use(xlink:href="#horizontal")

  .cell.row-1.col-8.center
    svg.liner.vertical
      use(xlink:href="#vertical")
    svg.liner.horizontal
      use(xlink:href="#horizontal")

  .cell.row-1.col-9.box.brackets
    .layer
      label
        | Recover
        span.br password

  .cell.row-1.col-11.box.brackets
    .layer
      label Onboarding

  .cell.row-1.col-13.btm
    .terminal.set
      label A

  .cell.row-1.col-15.box.brackets
    .layer
      label
        | Profile
        span.br view / edit

  .cell.row-2.col-5.center.brackets
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-left")

  .cell.row-2.col-9.brackets.center.nope.after
    svg.liner.vertical.up
      use(xlink:href="#vertical-up")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-2.col-11.brackets.center.nope.after
    svg.liner.vertical.up
      use(xlink:href="#vertical-up")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-2.col-12.brackets

  .cell.row-2.col-13.center.brackets
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-left")

  .cell.row-2.col-14.brackets
    svg.liner.angle
      use(xlink:href="#angle")

  .cell.row-3.col-1.center.start
    .terminal
      label S

  .cell.row-3.col-2.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-3.box.brackets
    .layer
      label
        | Landing
        span.br
          | Page

  .cell.row-3.col-4.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-5.box.brackets
    .layer
      label Sign in

  .cell.row-3.col-6.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-7.brackets.choice
    .layer
      label Recognised email?
    .layer
      .quad
        svg.liner
          use(xlink:href="#quad-1")
      .quad
        svg.liner
          use(xlink:href="#quad-2")
      .quad
        svg.liner
          use(xlink:href="#quad-3")
      .quad
        svg.liner
          use(xlink:href="#quad-4")

  .cell.row-3.col-8.center.yes
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-9.brackets.choice
    .layer
      label Recognised password?
    .layer
      .quad
        svg.liner
          use(xlink:href="#quad-1")
      .quad
        svg.liner
          use(xlink:href="#quad-2")
      .quad
        svg.liner
          use(xlink:href="#quad-3")
      .quad
        svg.liner
          use(xlink:href="#quad-4")

  .cell.row-3.col-10.center.yes
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-11.brackets.choice
    .layer
      label Is all mandatory information entered?
    .layer
      .quad
        svg.liner
          use(xlink:href="#quad-1")
      .quad
        svg.liner
          use(xlink:href="#quad-2")
      .quad
        svg.liner
          use(xlink:href="#quad-3")
      .quad
        svg.liner
          use(xlink:href="#quad-4")

  .cell.row-3.col-12.center.yes
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-13.box.brackets
    .layer
      label Dashboard / View previous receipts

  .cell.row-3.col-14.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-15.box.brackets
    .layer
      label Create new reciept

  .cell.row-3.col-16.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-17.box.brackets
    .layer
      label
        | Complete
        span.br form

  .cell.row-3.col-18.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-19.brackets.choice
    .layer
      label
        | Review
        span.br OK?

    .layer
      .quad
        svg.liner
          use(xlink:href="#quad-1")
      .quad
        svg.liner
          use(xlink:href="#quad-2")
      .quad
        svg.liner
          use(xlink:href="#quad-3")
      .quad
        svg.liner
          use(xlink:href="#quad-4")

  .cell.row-3.col-20.center.yes
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-21.box.brackets
    .layer
      label
        | Send
        span.br summary

  .cell.row-3.col-22.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-3.col-23.center.end
    .terminal.set
      label A

  .cell.row-4.col-5.center.brackets
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-4.col-7.center.brackets.nope.before
    svg.liner.vertical.down
      use(xlink:href="#vertical")
    svg.liner.horizontal
      use(xlink:href="#horizontal")

  .cell.row-4.col-13.center.brackets
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-4.col-14.brackets
    svg.liner.angle
      use(xlink:href="#angle")

  .cell.row-4.col-16.brackets

  .cell.row-4.col-17.brackets.center
    svg.liner.vertical.up
      use(xlink:href="#vertical-up")
    svg.liner.horizontal
      use(xlink:href="#horizontal-right")

  .cell.row-4.col-19.center.brackets.nope.before
    svg.liner.vertical.down
      use(xlink:href="#vertical")
    svg.liner.horizontal
      use(xlink:href="#horizontal")

  .cell.row-4.col-21.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-left")

  .cell.row-5.col-5.box.brackets
    .layer
      label Sign up

  .cell.row-5.col-6.center
    svg.liner.vertical.down
      use(xlink:href="#vertical-down")
    svg.liner.horizontal
      use(xlink:href="#horizontal-left")

  .cell.row-5.col-7.brackets
    .layer
      svg.liner.hinge.hinge-b
        use(xlink:href="#hinge")

  .cell.row-5.col-13.box.brackets
    .layer
      label Log out

  .cell.row-5.col-15.box.brackets
    .layer
      label View / create from existing

  .cell.row-5.col-16.center

  .cell.row-5.col-17.box.brackets
    .layer
      label Edit

  .cell.row-5.col-18.center
    svg.liner.vertical.up
      use(xlink:href="#vertical-up")
    svg.liner.horizontal
      use(xlink:href="#horizontal-left")

  .cell.row-5.col-19.brackets
    .layer
      svg.liner.hinge.hinge-b
        use(xlink:href="#hinge")

  .cell.row-5.col-21.box.dashed.brackets
    .layer
      label Send to inbox
